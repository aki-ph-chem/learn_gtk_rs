# シンプルなアプリを開発する

このディレクトリ`make_simple_app`に含まれるソースコードの説明。
あるコードが`<src_name>.rs`であった場合、実行するには

```bash
$ cargo run --bin <src_name>
```

を実行すれば良い。
またGladeによって生成された、UIを構成しているXMLファイルは`ui`ディレクトリ下に存在する。

## 画像ビュアー

これまでの知識を使って簡単な画像ビュアーを開発する。`cat`ディレクトリには動作確認用の画像を置いておいた。

画像はいらすとや(https://www.irasutoya.com/)より

1. image.rs: 画像をファイルダイアログから選択して表示する。ショートカットCtrl + o, Ctrl + qも実装した
2. image\_cmd.rs: 画像をファイルダイアログから選択して表示する。コマンドラインから画像ファイルへのpathを渡す
3. image\_event.rs: window内に画像を表示してスクロールできるようにした。 

### 技術的なメモ

1. 画像をスクロールする

画面に表示されたものをスクロールしたい場合ではコンテナ`gtk::ScrollWindow`上に置くことで実現が可能である。例えば、テキストを表示する
`gtk::TextView`が素材する。

しかし、画像を表示するオブジェクトである、`gtk::Image`はスクロール可能でないオブジェクトであるため直接`gtk::ScrollWindow`上に置くことができない。
そのため、一度`gtk::ScroollWindow`の上に`gtk::Viewport`を置きその上に`gtk::Image`を置くようにする必要がある。

2. 画像とイベント

`gtk::Image`でイベントのハンドリングが行いたいならば、一度`gtk::EventBox`を置き、その上に置く必要がある。
